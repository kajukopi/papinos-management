"use strict";function removeItemAndSyncArrays(e,t){function o(e,t){return JSON.stringify(e)===JSON.stringify(t)}for(let n=t.length-1;n>=0;n--){const r=t[n],l=e.some(e=>o(e,r));l||(tempDel=r)}}load.hide();const elTableEditor=document.getElementById("table_1"),tableEditorInstance=TableEditor.getInstance(elTableEditor);let tempRow=null,tempRows=tableEditorInstance._rows,tempDel=null;elTableEditor.addEventListener("update.psa.tableEditor",e=>{e.preventDefault();const t=location.href.toString()+"/";tempDel&&fetch(t+tempDel.email+"?_method=DELETE",{method:"POST",headers:{"Content-Type":"application/json"}}).then(e=>{console.log(e),tempRows=tableEditorInstance._rows}).catch(e=>console.error("Error:",e)),tempRow&&(console.log(tempRow),fetch(t+tempRow.email+"?_method=PUT",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(tempRow)}).then(e=>{console.log(e)}).catch(e=>console.error("Error:",e)))}),elTableEditor.addEventListener("render.psa.tableEditor",e=>{e.preventDefault(),tempRows.length!==tableEditorInstance._rows.length?removeItemAndSyncArrays(tableEditorInstance._rows,tempRows):tempRow=tableEditorInstance._tempRow});
function loadDataTransfer(){return dataTransferTemp=[],dataTransferTemp=instanceTransfer._dataSource.concat(instanceTransfer._dataTarget),dataTransfer.map(a=>{const t=dataTransferTemp.find(t=>t.data===a.data);return{...a,id:t.id}})}load.hide();const transferEl=document.getElementById("transfer");let dataTransferTemp,dataSource=dataTransfer.filter(a=>"true"===a.category),dataTarget=dataTransfer.filter(a=>"false"===a.category);const instanceTransfer=new Transfer(transferEl,{dataSource:dataSource,dataTarget:dataTarget,pagination:!0,elementsPerPage:10,search:!0,titleTarget:"Production",titleSource:"Development"});let result=loadDataTransfer();const config={childList:!0,attributes:!0,characterData:!0,subtree:!0,selectAll:!1},arrayData=[],observer=new MutationObserver((a,t)=>{for(const t of a)if("attributes"===t.type&&"true"===t.target.dataset.psaChecked&&"autocompleted"!==t.attributeName)return arrayData.push(t.target.id),!1}),liElement=document.querySelectorAll("#transfer ul").forEach(a=>{observer.observe(a,config)});transferEl.querySelectorAll("button").forEach(a=>{a.addEventListener("click",async a=>{switch(a.preventDefault(),a.target.textContent){case">":load.show();const t=[];for(let a=0;a<arrayData.length;a++){const e=arrayData[a];for(let a=0;a<result.length;a++){const r=result[a];r.id===e&&t.push(r._id)}}await patch.post(`/transfer/${(new Date).getTime()}`,{ids:t,category:!1});arrayData.length=0,result=loadDataTransfer(),load.hide();break;case"<":load.show();const e=[];for(let a=0;a<arrayData.length;a++){const t=arrayData[a];for(let a=0;a<result.length;a++){const r=result[a];r.id===t&&e.push(r._id)}}await patch.post(`/transfer/${(new Date).getTime()}`,{ids:e,category:!0});arrayData.length=0,result=loadDataTransfer(),load.hide()}})});